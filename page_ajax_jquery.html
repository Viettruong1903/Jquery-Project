<!DOCTYPE html>
<html>
<head>
<title>My AJAX Empowered Site</title>
<link rel="stylesheet" href="css/main.css" type="text/css" />
<link rel="stylesheet" href="jquery-ui.css">
<script type="text/javascript" src="external/jquery/jquery.js"></script>
<script type="text/javascript" src="jquery-ui.js"></script>
<script type="text/javascript">
$(document).ready(function(){
 
/* this will be done in class */
    // console.log('Hello')
    // now, we bind a certain functionality to our specific links
    // "Selector" = something we have control over; syntax is same as CSS
    $("a.aj-link").click(function() {
        // console.log("clicked");
    // next, we have to incorporate some crucial data in each link. What is the category of this link?
        console.log($(this).attr('data-x') + $(this).attr('data-y'));

        $.ajax({
            type:"POST",
            url:"display.php",
            data: {
                displayby: $(this).attr('data-x'),
                displayvalue: $(this).attr('data-y')
            },
            success: function(response) {
                $("#sideDisplay").hide();
                $("#sideDisplay").html(response);
                $("#sideDisplay").fadeIn("slow","swing");
            }
        });

    }) ;

    $("a.musicType_link").click(function(e) {
    e.preventDefault(); // Prevent default anchor behavior
    let genre = $(this).text(); 

        $.ajax({
            type: "POST",
            url: "display_music.php",
            data: {
                displayby: $(this).attr('data-a'),
                displayvalue: genre // Send genre directly
            },
            success: function(response) {
                $("#mainPadding").hide();
                $("#mainPadding").html(response);
                $("#mainPadding").fadeIn("slow", "swing");
            }
        });
    });

    $.ajax({
        type: "POST",
        url: "display_music.php",
        success: function(response) {
            // Load the fetched data into the accordion div
            $("#accordion").html(response);

            // Re-initialize the accordion with the new content
            $("#accordion").accordion();
        },
        error: function() {
            console.error("Error loading accordion data.");
        }
    });

function loadRandomImages() {
                $.ajax({
                    type: "POST",
                    url: "display_random_image.php",
                    success: function (response) {
                        let gallery = $('#randomImages');
                        
                        // Clear the current images and append the new ones
                        gallery.html('');

                        gallery.append(response);
                    }
                });
            }

            // Load new images every 5 seconds
            setInterval(loadRandomImages, 5000);
            // Load images when the page loads
            loadRandomImages();

    $('a.artist_link').click(function() {
        $.ajax({
            type: "POST",
            url: "display_artist.php",
             success: function(response) {
                $("#mainPadding").hide();
                $("#mainPadding").html(response);
                $("#mainPadding").fadeIn("slow", "swing");
            }
        });
    }) 
        

});


</script>


</head>
<body>
<div id="outerWrap">
<div id="wrap">
	<div id="header"><h1>Vivamus Ullamcorper Consequat </h1></div>
	<div id="nav">
	<a href="page_ajax_jquery.html">Vivamus</a> | 
    <a href="#" class="musicType_link" data-a="genre" data-b="Rock">Rock</a> | 
    <a href="#" class="musicType_link" data-a="genre" data-b="Jazz">Jazz</a> | 
    <a href="#" class="musicType_link" data-a="genre" data-b="Blues">Blues</a> | 
    <a href="#" class="musicType_link" data-a="genre" data-b="Pop">Pop</a> | 
    <a href="#" class="artist_link">Artist Community</a>
    
    </div>

<div id="main">
<div id="mainPadding">

    <div id="accordion">
        
    </div>

		<h2>Lorem ipsum dolor sit amet</h2>

<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. In lobortis sollicitudin faucibus. Morbi orci leo, blandit quis rutrum eget, consequat ut felis. Phasellus tortor sem, scelerisque at congue eget, dapibus eget eros. Cras at scelerisque est. Duis vel nisi in lacus consectetur dictum et sit amet dolor. Nunc tincidunt, ligula a dictum eleifend, neque magna lobortis nulla, ac tempus risus nisi non odio. Fusce blandit magna sit amet purus ultrices blandit. Vivamus ullamcorper consequat sagittis. Aliquam a dui ut turpis gravida iaculis. Nullam turpis orci, rhoncus consequat faucibus in, posuere ut odio. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>

<p>In hac habitasse platea dictumst. Etiam quam odio, auctor et gravida eu, tempor eu metus. Donec tincidunt purus ac eros ornare commodo. Vivamus eu nisi sem. Cras vestibulum suscipit arcu ut lobortis. Mauris non tortor leo. Phasellus iaculis dapibus adipiscing.</p>

<p>Praesent cursus augue eget nibh congue imperdiet. Donec malesuada vehicula scelerisque. Sed vestibulum, ipsum sit amet posuere viverra, massa arcu tincidunt diam, nec sollicitudin turpis metus at ipsum. Aliquam erat volutpat. Vestibulum scelerisque eleifend pellentesque. Nulla tempor, ipsum at porta dictum, turpis libero accumsan elit, aliquet consectetur mauris elit id velit. Nunc urna turpis, vulputate id malesuada eu, euismod at nisl. Mauris rhoncus libero a dui volutpat a placerat dolor convallis. Proin fermentum purus eu urna porta nec tempus magna convallis. Maecenas ac risus diam. </p>

<h2>Lobortis Sollicitudin Faucibus</h2>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. In lobortis sollicitudin faucibus. Morbi orci leo, blandit quis rutrum eget, consequat ut felis. Phasellus tortor sem, scelerisque at congue eget, dapibus eget eros. Cras at scelerisque est. Duis vel nisi in lacus consectetur dictum et sit amet dolor. Nunc tincidunt, ligula a dictum eleifend, neque magna lobortis nulla, ac tempus risus nisi non odio. Fusce blandit magna sit amet purus ultrices blandit. Vivamus ullamcorper consequat sagittis. Aliquam a dui ut turpis gravida iaculis. Nullam turpis orci, rhoncus consequat faucibus in, posuere ut odio. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>

<p>In hac habitasse platea dictumst. Etiam quam odio, auctor et gravida eu, tempor eu metus. Donec tincidunt purus ac eros ornare commodo. Vivamus eu nisi sem. Cras vestibulum suscipit arcu ut lobortis. Mauris non tortor leo. Phasellus iaculis dapibus adipiscing.</p>

<p>Praesent cursus augue eget nibh congue imperdiet. Donec malesuada vehicula scelerisque. Sed vestibulum, ipsum sit amet posuere viverra, massa arcu tincidunt diam, nec sollicitudin turpis metus at ipsum. Aliquam erat volutpat. Vestibulum scelerisque eleifend pellentesque. Nulla tempor, ipsum at porta dictum, turpis libero accumsan elit, aliquet consectetur mauris elit id velit. Nunc urna turpis, vulputate id malesuada eu, euismod at nisl. Mauris rhoncus libero a dui volutpat a placerat dolor convallis. Proin fermentum purus eu urna porta nec tempus magna convallis. Maecenas ac risus diam. </p>

		</div>
    <div id="randomImages"></div>
	</div>
	<div id="sidebar">
    <div id="sideBarHeading">
    CD Shop
    </div>
    <p>
    <b>Genre: </b><br />
    <!-- note how we use some "jQuery usage only" attributes -->
    <a href="#" class="aj-link" data-x="genre" data-y="rock">Rock</a> | 
	<a href="#" class="aj-link" data-x="genre" data-y="jazz">Jazz</a> | 
	<a href="#" class="aj-link" data-x="genre" data-y="blues">Blues</a> | 
	<a href="#" class="aj-link" data-x="genre" data-y="pop">Pop</a>
    </p>
    <p>
    <b>Decades: </b><br />
	 
    <a href="#" class="aj-link">70's</a> | 
    <a href="#" class="aj-link">80's</a> | 
	<a href="#" class="aj-link">90's</a> | 
    <a href="#" class="aj-link">2000's</a>
    </p>
    <p>
     <b>Labels: </b><br />
	 
    <a href="#" class="aj-link">Atlantic</a> | 
    <a href="#" class="aj-link">Epic</a> | 
	
    <a href="#" class="aj-link">Columbia</a>
    </p>
    
      <div id="sideDisplay">
      
      </div>
	</div>
	
	

	</div>

	<br style="clear:both;" />	

</div>

</body>
</html>

